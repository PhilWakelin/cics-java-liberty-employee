<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head />
<h:body>

    <h1><h:outputText value="Add new employee" /></h1>
    
    <p><h:outputText style="color: red;" value="#{addEmployee.message}" /></p>
    
    <h:form rendered="#{addEmployee.databaseAvailable}">
    
        <!--  Toggle button and status bar for JTA support -->
        <table><tr>
            <td><h:commandButton value="Toggle JTA" action="#{addEmployee.toggleUseJta}"/></td>
            <td><h:outputText style="color: green;" value="JTA is ENABLED" rendered="#{addEmployee.useJta}"/></td>
            <td><h:outputText style="color: blue;" value="JTA is DISABLED" rendered="#{not addEmployee.useJta}"/></td>
        </tr></table>
    
        <!--  Table containing user input fields for the employee -->
        <table>        
            <tr>
                <td>Employee Number</td>
                <td><h:inputText size="6" value="#{addEmployee.empNo}"/></td>
            </tr>            
            <tr>
                <td>First Name</td>
                <td><h:inputText size="15" value="#{addEmployee.firstName}"/></td>
            </tr>            
            <tr>
                <td>Last Name</td>
                <td><h:inputText size="15" value="#{addEmployee.lastName}"/></td>
            </tr>            
            <tr>
                <td>Gender</td>
                <td><h:inputText size="1" value="#{addEmployee.gender}"/></td>
            </tr>            
            <tr>
                <td>Job Title</td>
                <td><h:inputText size="15" value="#{addEmployee.job}"/></td>
            </tr>
                        
            <!--  Button used to trigger the actual update, passing in the values -->
            <!--  of the input fields                                             -->
            <tr>
                <td><h:commandButton value="Add employee" action="#{addEmployee.create}"/></td>
            </tr>
            
            <!--  Button used to go back to master.xhtml -->
            <tr>
                <td><h:commandButton value="Go back" action="#{addEmployee.goBack}"/></td>
            </tr>            
        </table>    
    </h:form>
</h:body>
</html>